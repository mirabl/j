graph: reduce graph to large steps when possible (ThreeTeleports)
graph: re-use graph structure passed as argument to save time, even if string[]
